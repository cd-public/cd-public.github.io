<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/light-border.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-a4a11d514c7d463668e07712114998e6.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.30">

  <meta name="author" content="Prof.&nbsp;Calvin">
  <title>Graphs</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #f8f8f2;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #f8f8f2; } /* Normal */
    code span.al { color: #f07178; background-color: #2a0f15; font-weight: bold; } /* Alert */
    code span.an { color: #d4d0ab; } /* Annotation */
    code span.at { color: #00e0e0; } /* Attribute */
    code span.bn { color: #d4d0ab; } /* BaseN */
    code span.bu { color: #abe338; } /* BuiltIn */
    code span.cf { color: #ffa07a; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #abe338; } /* Char */
    code span.cn { color: #ffd700; } /* Constant */
    code span.co { color: #f8f8f2; font-style: italic; } /* Comment */
    code span.cv { color: #ffd700; } /* CommentVar */
    code span.do { color: #f8f8f2; } /* Documentation */
    code span.dt { color: #ffa07a; } /* DataType */
    code span.dv { color: #d4d0ab; } /* DecVal */
    code span.er { color: #f07178; text-decoration: underline; } /* Error */
    code span.ex { color: #00e0e0; font-weight: bold; } /* Extension */
    code span.fl { color: #d4d0ab; } /* Float */
    code span.fu { color: #ffa07a; } /* Function */
    code span.im { color: #abe338; } /* Import */
    code span.in { color: #d4d0ab; } /* Information */
    code span.kw { color: #ffa07a; font-weight: bold; } /* Keyword */
    code span.op { color: #ffa07a; } /* Operator */
    code span.ot { color: #00e0e0; } /* Other */
    code span.pp { color: #dcc6e0; } /* Preprocessor */
    code span.re { color: #00e0e0; background-color: #f8f8f2; } /* RegionMarker */
    code span.sc { color: #abe338; } /* SpecialChar */
    code span.ss { color: #abe338; } /* SpecialString */
    code span.st { color: #abe338; } /* String */
    code span.va { color: #00e0e0; } /* Variable */
    code span.vs { color: #abe338; } /* VerbatimString */
    code span.wa { color: #dcc6e0; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto-0f071606cd187ea9c4f27a73aca9ddf7.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Graphs</h1>
  <p class="subtitle">Week 0xB I</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Prof.&nbsp;Calvin 
</div>
        <p class="quarto-title-affiliation">
            Crypto
          </p>
    </div>
</div>

</section>
<section id="announcements" class="title-slide slide level1 center">
<h1>Announcements</h1>
<ul>
<li><strong>Welcome</strong> to variously CS 276/CS 540
<ul>
<li>Graphs, to introduce
<ul>
<li>DAGs</li>
</ul></li>
<li>Trees, to introduce,</li>
<li>Hash or Merkle trees</li>
</ul></li>
<li><strong>Action Items</strong>:
<ul>
<li>tree_t after this</li>
</ul></li>
</ul>
</section>

<section id="today" class="title-slide slide level1 center">
<h1>Today</h1>
<ul>
<li>Graphs
<ul>
<li>DAGs</li>
<li>Trees</li>
</ul></li>
</ul>
</section>

<section id="trees" class="title-slide slide level1 center">
<h1>Trees</h1>

</section>

<section id="n-ary-trees" class="title-slide slide level1 center">
<h1><span class="math inline">\(n\)</span>-ary Trees</h1>
<ul>
<li>A tree is a type of graph.</li>
<li>A graph is a pair of
<ul>
<li>A set of “nodes” or “vertices” (or “vertexes”)</li>
<li>A set of “edges” which are pairs of nodes
<ul>
<li>They may be ordered pairs or not.</li>
</ul></li>
</ul></li>
</ul>
</section>

<section id="graphs" class="title-slide slide level1 center">
<h1>Graphs</h1>
<ul>
<li>There are many ways to understand graphs, but I actually think graph theory is quite accessible.</li>
<li>I think it’s also easier when using a running example.</li>
<li>I will also use a running example, Amtrak 🚄
<ul>
<li>Or perhaps… a training example?</li>
<li>I am training… to run?????</li>
<li>???????????</li>
</ul></li>
</ul>
</section>

<section id="amtrak" class="title-slide slide level1 center">
<h1>Amtrak 🚄</h1>
<center>
<img style="border-radius: 50%;height:100%" src="https://www.amtrak.com/content/dam/projects/dotcom/english/public/images/Carousel/Landing_Feature_03.gif">
</center>
</section>

<section id="graph-definition" class="title-slide slide level1 center">
<h1>Graph: Definition</h1>
<ul>
<li>A graph is an <strong>ordered pair</strong>.
<ul>
<li><p>That is: two things, in a fixed order.</p></li>
<li><p>An ordered pair can be thought of as a sequence of length 2</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a></a>a <span class="op">=</span> <span class="st">"one thing"</span></span>
<span id="cb1-2"><a></a>b <span class="op">=</span> <span class="st">"another thing"</span></span>
<span id="cb1-3"><a></a>ordered_pair <span class="op">=</span> [a,b]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul></li>
</ul>
</section>

<section id="not-sets" class="title-slide slide level1 center">
<h1>Not Sets</h1>
<ul>
<li>A graph is not a set:</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a></a><span class="op">&gt;&gt;&gt;</span> [a,b][<span class="dv">0</span>]</span>
<span id="cb2-2"><a></a><span class="co">'one thing'</span></span>
<span id="cb2-3"><a></a><span class="op">&gt;&gt;&gt;</span> {a,b}[<span class="dv">0</span>]</span>
<span id="cb2-4"><a></a><span class="op">&lt;</span>stdin<span class="op">&gt;</span>:<span class="dv">1</span>: <span class="pp">SyntaxWarning</span>: <span class="st">'set'</span> <span class="bu">object</span> <span class="kw">is</span> <span class="kw">not</span> subscriptable<span class="op">;</span> perhaps you missed a comma?</span>
<span id="cb2-5"><a></a>Traceback (most recent call last):</span>
<span id="cb2-6"><a></a>  File <span class="st">"&lt;stdin&gt;"</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb2-7"><a></a><span class="pp">TypeError</span>: <span class="st">'set'</span> <span class="bu">object</span> <span class="kw">is</span> <span class="kw">not</span> subscriptable</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><a href="https://www.youtube.com/watch?v=dvf--10EYXw">I just set them up just to knock them down.</a></li>
</ul>
</section>

<section id="aside-sets-and-pairs" class="title-slide slide level1 center">
<h1>Aside: Sets and pairs</h1>
<ul>
<li>Take a number plane (click):</li>
</ul>
<p>
<span style="position:relative;left:275px">y=2</span>
</p>
<p>
<span style="position:relative;top:-190px">x=-2</span> <span style="vertical-align:middle;" onclick="draw1();">
<canvas id="plot1" width="400" height="400" style="background-color:white">
</canvas>
</span> <span style="position:relative;top:-190px">x=2</span>
</p><p>
<span style="position:relative;left:275px">y=2</span>
</p>
<script>
function draw1()
{
    const plot1 = document.getElementById("plot1") ;
    const ctx1 = plot1.getContext("2d");
    ctx1.fillStyle = "black";   
    ctx1.fillRect(200, 0, 5, 400) ;
    ctx1.fillRect(0, 200, 400, 5) ;
    
    ctx1.fillRect(195, 100, 15, 5) ;
    ctx1.fillRect(195, 300, 15, 5) ;
    ctx1.fillRect(100, 195, 5, 15) ;
    ctx1.fillRect(300, 195, 5, 15) ;
}</script>
</section>

<section id="aside-sets-and-pairs-1" class="title-slide slide level1 center">
<h1>Aside: Sets and pairs</h1>
<ul>
<li>Denote ordered pair (.5,1.5) in <span style="color:red">red</span>.</li>
</ul>
<p>
<span style="position:relative;left:275px">y=2</span>
</p>
<p>
<span style="position:relative;top:-190px">x=-2</span> <span style="vertical-align:middle;" onclick="draw2();">
<canvas id="plot2" width="400" height="400" style="background-color:white">
</canvas>
</span> <span style="position:relative;top:-190px">x=2</span>
</p><p>
<span style="position:relative;left:275px">y=2</span>
</p>
<script>
function draw2()
{
    const plot1 = document.getElementById("plot2") ;
    const ctx1 = plot1.getContext("2d");
    ctx1.fillStyle = "black";   
    ctx1.fillRect(200, 0, 5, 400) ;
    ctx1.fillRect(0, 200, 400, 5) ;
    
    ctx1.fillRect(195, 100, 15, 5) ;
    ctx1.fillRect(195, 300, 15, 5) ;
    ctx1.fillRect(100, 195, 5, 15) ;
    ctx1.fillRect(300, 195, 5, 15) ;
    ctx1.fillStyle = "red"; 
    ctx1.fillRect(245, 45, 10, 10) ;
    ctx1.fillRect(245, 45, 10, 10) ;
}</script>
</section>

<section id="pair-definition" class="title-slide slide level1 center">
<h1>Pair: Definition</h1>
<ul>
<li>We construct pairs from sets.
<ul>
<li>An ordered pair is a set of cardinality two. (2 elements)</li>
<li>One element of the set is a set of cardinality one. (1 element)</li>
<li>The other element of the set is a set of cardinality two (2 elements)</li>
<li>The element of the set of cardinality one is one of the two elements of the set of cardinality two.</li>
</ul></li>
</ul>
</section>

<section id="pair-definition-1" class="title-slide slide level1 center">
<h1>Pair: Definition</h1>
<ul>
<li>The element of both sets is regarded as the first element.</li>
<li>This doesn’t work in Python since Python sets can’t contain other sets:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a></a><span class="op">&gt;&gt;&gt;</span> [a,b] <span class="co"># ordered pair</span></span>
<span id="cb3-2"><a></a>[<span class="st">'one thing'</span>, <span class="st">'another thing'</span>]</span>
<span id="cb3-3"><a></a><span class="op">&gt;&gt;&gt;</span> {{a},{a,b}} <span class="co"># ordered pair with sets</span></span>
<span id="cb3-4"><a></a>Traceback (most recent call last):</span>
<span id="cb3-5"><a></a>  File <span class="st">"&lt;stdin&gt;"</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb3-6"><a></a><span class="pp">TypeError</span>: unhashable <span class="bu">type</span>: <span class="st">'set'</span></span>
<span id="cb3-7"><a></a><span class="op">&gt;&gt;&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>But this is an implementation hurdle, and not a logical one.</li>
</ul>
</section>

<section id="pair-definition-2" class="title-slide slide level1 center">
<h1>Pair: Definition</h1>
<div class="callout callout-note callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Ordered Pair</strong></p>
</div>
<div class="callout-content">
<p>An ordered pair is a set of two elements, a set containing the head element of the pair, and a set containing both elements of the pair.</p>
</div>
</div>
</div>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource lisp number-lines code-with-copy"><code class="sourceCode commonlisp"><span id="cb4-1"><a></a>(a, b) := p : { {a} , {a, b} }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="head" class="title-slide slide level1 center">
<h1>“Head”</h1>
<ul>
<li>Extract the head item by taking the intersection of all of the elements of p
<ul>
<li>I denote this ‘Head(p)’</li>
</ul></li>
</ul>
<p><span class="math display">\[
\begin{align*}
\text{Head}(p) &amp;:= x : x \in \bigcap p \\
\text{Head}(p) &amp;:= x : \forall Y \in p : x \in Y
\end{align*}
\]</span></p>
</section>

<section id="tail" class="title-slide slide level1 center">
<h1>“Tail”</h1>
<ul>
<li>The tail is the sole element of the union that is not an element of the intersection, with the caveat that we do not consider the case in which the head and tail differ
<ul>
<li>I denote this ‘Tail(p)’</li>
</ul></li>
</ul>
<p><span class="math display">\[
\begin{align*}
\text{Tail}(p) &amp;:= x : x \in \bigcup p \setminus \bigcap p \\
\text{Tail}(p) &amp;:= x : \exists Y_1, Y_2 \in p : x \in Y_1 \land x \notin Y_2
\end{align*}
\]</span></p>
</section>

<section id="graph-definition-1" class="title-slide slide level1 center">
<h1>Graph: Definition</h1>
<ul>
<li>A graph is an <strong>ordered pair</strong> <span class="math inline">\(G\)</span></li>
<li>We denote the two elements of the pair as:
<ul>
<li><span class="math inline">\(V\)</span> for vertices</li>
<li><span class="math inline">\(E\)</span> for edges <span class="math display">\[
G = (V, E) := \{ \{V\}, \{V,E\}\}
\]</span></li>
</ul></li>
</ul>
</section>

<section id="in-amtrak" class="title-slide slide level1 center">
<h1>In Amtrak</h1>
<ul>
<li><span class="math inline">\(V\)</span>, the vertices or nodes, stations or stops or cities,
<ul>
<li>like Portland and Seattle, or</li>
<li>like Kings St Station and Central Station</li>
</ul></li>
<li><span class="math inline">\(E\)</span>, the edges, are the connections to adjacent stations
<ul>
<li>like Portland and Oregon City, or Portland and Vancouver, WA.</li>
</ul></li>
</ul>
</section>

<section id="graph-definition-2" class="title-slide slide level1 center">
<h1>Graph: Definition</h1>
<ul>
<li>An <code>Amtrak</code> is an <strong>ordered pair</strong></li>
<li>We denote the two elements of the pair as:
<ul>
<li>Stations for train stations used by Amtrak passengers, and</li>
<li>Trains which Amtrak passengers ride between stations.</li>
</ul></li>
</ul>
<p>Amtrak = (Stations, Trains)</p>
</section>

<section id="nodes-vertices-or-v" class="title-slide slide level1 center">
<h1>Nodes, Vertices, or <span class="math inline">\(V\)</span></h1>
<ul>
<li>Let us consider the “Amtrak Cascades”</li>
<li>The set of vertices is the set of stations:</li>
</ul>
<table class="caption-top">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 20%">
<col style="width: 5%">
</colgroup>
<tbody>
<tr class="odd">
<td>ALBANY</td>
<td>EVERETT</td>
<td>PORTLAND</td>
<td>TUKWILA</td>
<td>EUGENE</td>
</tr>
<tr class="even">
<td>BELLINGHAM</td>
<td>KELSO/LONGVIEW</td>
<td>SALEM</td>
<td>VANCOUVER BC</td>
<td>OREGON CITY</td>
</tr>
<tr class="odd">
<td>CENTRALIA</td>
<td>MOUNT VERNON</td>
<td>SEATTLE</td>
<td>VANCOUVER WA</td>
<td>TACOMA</td>
</tr>
<tr class="even">
<td>EDMONDS</td>
<td>OLYMPIA/LACEY</td>
<td>STANWOOD</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>

<section id="nodes-vertices-or-v-1" class="title-slide slide level1 center">
<h1>Nodes, Vertices, or <span class="math inline">\(V\)</span></h1>
<ul>
<li>Restrict our example to the PDX&lt;-&gt;SEA 6x daily trains:</li>
</ul>
<table class="caption-top">
<tbody>
<tr class="odd">
<td>CENTRALIA</td>
<td>OLYMPIA/LACEY</td>
<td>SEATTLE</td>
<td>TUKWILA</td>
</tr>
<tr class="even">
<td>KELSO/LONGVIEW</td>
<td>PORTLAND</td>
<td>TACOMA</td>
<td>VANCOUVER WA</td>
</tr>
</tbody>
</table>
</section>

<section id="edges-or-e" class="title-slide slide level1 center">
<h1>Edges or <span class="math inline">\(E\)</span></h1>
<ul>
<li><span class="math inline">\(E\)</span> is a set of elements termed ‘edges’, ‘links’, or ‘lines’
<ul>
<li>The edges are pairs of vertices</li>
<li>In an <em>undirected graph</em>, edges are unordered pairs (sets of cardinality two)</li>
<li>In an <em>directed graph</em>, edges are ordered pairs (not subsets then)</li>
<li>Amtrak is undirected, trains are directed.</li>
</ul></li>
</ul>
</section>

<section id="directionality" class="title-slide slide level1 center">
<h1>Directionality</h1>
<ul>
<li>The internet is directed.
<ul>
<li>We may use ‘curl’ to download files from a url, but going the other way (creating files at a url) is highly nontrivial.</li>
</ul></li>
<li>Pointers are directed.
<ul>
<li>Recall, <code>*p</code> refers to the value at location <code>p</code>.</li>
<li><code>**p</code> does not refer to to <code>p</code>, rather, we would use <code>&amp;</code> to go in the reverse direction.</li>
</ul></li>
</ul>
</section>

<section id="route" class="title-slide slide level1 center">
<h1>Route</h1>
<ul>
<li><p>Order north-to-south:</p>
<pre><code>SEATTLE
TUKWILA
TACOMA
OLYMPIA/LACEY
CENTRALIA
KELSO/LONGVIEW
VANCOUVER WA
PORTLAND</code></pre></li>
<li><p>Centralia and Keslo/Longview is an edge.</p></li>
<li><p>The others, like Seattle and Tacoma, are not edges.</p></li>
</ul>
</section>

<section id="edges-or-e-1" class="title-slide slide level1 center">
<h1>Edges or <span class="math inline">\(E\)</span></h1>
<ul>
<li>Our edges are pairs of <em>adjacent</em> stations</li>
<li>There are 8 stations so there are 7 edges</li>
</ul>
<table class="caption-top">
<tbody>
<tr class="odd">
<td>(SEATTLE, TUKWILA)</td>
<td>(CENTRALIA, KELSO)</td>
</tr>
<tr class="even">
<td>(TUKWILA, TACOMA)</td>
<td>(KELSO, VANCOUVER)</td>
</tr>
<tr class="odd">
<td>(TACOMA, OLYMPIA)</td>
<td>(VANCOUVER, PORTLAND)</td>
</tr>
<tr class="even">
<td>(OLYMPIA, CENTRALIA)</td>
<td></td>
</tr>
</tbody>
</table>
</section>

<section id="notation" class="title-slide slide level1 center">
<h1>Notation</h1>
<ul>
<li>I use tuple notion here, with parens, but it would be equally proper to use set notatation for an undirected graph.</li>
<li>Also I maintained geographic ordering (as a convenience) but it would be more proper to have no particular order since E is a set.</li>
</ul>
</section>

<section id="graph-definition-3" class="title-slide slide level1 center">
<h1>Graph: Definition</h1>
<ul>
<li><p>We can express G using only sets over elements of stations (this is basically JSON):</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource json number-lines code-with-copy"><code class="sourceCode json"><span id="cb6-1"><a></a><span class="er">G</span> <span class="er">=</span> <span class="fu">{</span></span>
<span id="cb6-2"><a></a>  <span class="er">V</span> <span class="er">=</span> <span class="er">{</span></span>
<span id="cb6-3"><a></a>    <span class="er">SEATTLE</span><span class="fu">,</span></span>
<span id="cb6-4"><a></a>    <span class="er">TUKWILA</span><span class="fu">,</span></span>
<span id="cb6-5"><a></a>    <span class="er">TACOMA</span><span class="fu">,</span></span>
<span id="cb6-6"><a></a>    <span class="er">OLYMPIA/LACEY</span><span class="fu">,</span></span>
<span id="cb6-7"><a></a>    <span class="er">CENTRALIA</span><span class="fu">,</span></span>
<span id="cb6-8"><a></a>    <span class="er">KELSO/LONGVIEW</span><span class="fu">,</span></span>
<span id="cb6-9"><a></a>    <span class="er">VANCOUVER</span> <span class="er">WA</span></span>
<span id="cb6-10"><a></a>    <span class="er">PORTLAND</span><span class="fu">,</span></span>
<span id="cb6-11"><a></a>  <span class="fu">}</span><span class="er">,</span> </span>
<span id="cb6-12"><a></a>  <span class="fu">{</span></span>
<span id="cb6-13"><a></a>    <span class="er">V</span><span class="fu">,</span></span>
<span id="cb6-14"><a></a>    <span class="er">E</span> <span class="er">=</span> <span class="er">{</span></span>
<span id="cb6-15"><a></a>              <span class="er">{</span></span>
<span id="cb6-16"><a></a>                  <span class="er">TUKWILA</span><span class="fu">,</span></span>
<span id="cb6-17"><a></a>                  <span class="er">TACOMA</span></span>
<span id="cb6-18"><a></a>              <span class="fu">}</span><span class="er">,</span></span>
<span id="cb6-19"><a></a>              <span class="fu">{</span></span>
<span id="cb6-20"><a></a>                  <span class="er">TACOMA</span><span class="fu">,</span></span>
<span id="cb6-21"><a></a>                  <span class="er">OLYMPIA/LACEY</span></span>
<span id="cb6-22"><a></a>              <span class="fu">}</span><span class="er">,</span></span>
<span id="cb6-23"><a></a>              <span class="fu">{</span></span>
<span id="cb6-24"><a></a>                  <span class="er">OLYMPIA/LACEY</span><span class="fu">,</span></span>
<span id="cb6-25"><a></a>                  <span class="er">CENTRALIA</span></span>
<span id="cb6-26"><a></a>              <span class="fu">}</span><span class="er">,</span></span>
<span id="cb6-27"><a></a>              <span class="fu">{</span></span>
<span id="cb6-28"><a></a>                  <span class="er">CENTRALIA</span><span class="fu">,</span></span>
<span id="cb6-29"><a></a>                  <span class="er">KELSO/LONGVIEW</span></span>
<span id="cb6-30"><a></a>              <span class="fu">}</span><span class="er">,</span></span>
<span id="cb6-31"><a></a>              <span class="fu">{</span></span>
<span id="cb6-32"><a></a>                  <span class="er">KELSO/LONGVIEW</span><span class="fu">,</span></span>
<span id="cb6-33"><a></a>                  <span class="er">VANCOUVER</span> <span class="er">WA</span></span>
<span id="cb6-34"><a></a>              <span class="fu">}</span><span class="er">,</span></span>
<span id="cb6-35"><a></a>              <span class="fu">{</span></span>
<span id="cb6-36"><a></a>                  <span class="er">VANCOUVER</span> <span class="er">WA</span><span class="fu">,</span></span>
<span id="cb6-37"><a></a>                  <span class="er">PORTLAND</span></span>
<span id="cb6-38"><a></a>              <span class="fu">}</span></span>
<span id="cb6-39"><a></a>          <span class="er">}</span></span>
<span id="cb6-40"><a></a>    <span class="er">}</span></span>
<span id="cb6-41"><a></a><span class="er">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ul>
</section>

<section id="graph-exercise" class="title-slide slide level1 center">
<h1>Graph: Exercise</h1>
<ul>
<li><p>Amtrak recently added lines, including the Hiawatha, with service from Milwaukee to the world’s greatest city, Chicago.</p>
<blockquote>
<p>From the grandeur of Grant Park’s Buckingham Fountain to iconic museums and skyscrapers, see for yourself why Chicago was once dubbed “Paris on the Prairie.” Engage in retail therapy on the Magnificent Mile or root for the home team within the friendly confines of famed Wrigley Field.</p>
</blockquote></li>
</ul>
</section>

<section id="graph-exercise-1" class="title-slide slide level1 center">
<h1>Graph: Exercise</h1>
<ul>
<li>As an exercise, construct the graph of the Hiawatha route using the JSON-ish notation I used for Cascades.</li>
<li>The route is described <a href="https://www.amtrak.com/routes/hiawatha-train.html">here</a> and contains five stations.</li>
<li>You may use the three letter codes like “MKE” and “CHI” as a notational convenience if you would like.</li>
<li>As a bonus: Write valid json. Here’s a <a href="https://jsonformatter.curiousconcept.com/#">tester</a>.</li>
</ul>
</section>

<section id="today-1" class="title-slide slide level1 center">
<h1>Today</h1>
<ul>
<li>✓ Graphs
<ul>
<li>DAGs</li>
<li>Trees</li>
</ul></li>
</ul>
</section>

<section id="dags" class="title-slide slide level1 center">
<h1>DAGs</h1>
<div class="{columns}">
<div class="column" style="width:50%;">
<ul>
<li>A DAG is a “directed acyclic graph”.</li>
<li>We will define rigorously.</li>
</ul>
</div><div class="column" style="width:50%;">
<p><a style="filter: invert(1);" title="Vector version of Image:Tred-G.png, Public domain, via Wikimedia Commons" href="https://commons.wikimedia.org/wiki/File:Tred-G.svg"><img height="100%" alt="Tred-G" src="https://upload.wikimedia.org/wikipedia/commons/f/fe/Tred-G.svg"></a></p>
</div></div>
</section>

<section id="cycles" class="title-slide slide level1 center">
<h1>Cycles</h1>
<ul>
<li><em>E</em> is a set of pairs of elements of <em>V</em>.</li>
<li>We can think of edges in a graph as a homogenous binary relation.
<ul>
<li>Homogenous: From a set (the set of vertices) to itself.</li>
<li>Binary: Over two elements (just like edges)</li>
<li>Relation: A set (of pairs)</li>
</ul></li>
</ul>
</section>

<section id="closures" class="title-slide slide level1 center">
<h1>Closures</h1>
<ul>
<li>“Transitive closures” are defined over homogenous binary relations, so we can take a “transitive closure” over edges.</li>
</ul>
</section>

<section id="cartesian-product" class="title-slide slide level1 center">
<h1>Cartesian product</h1>
<ul>
<li>A relation <span class="math inline">\(R\)</span> over a set <span class="math inline">\(S\)</span> is a set of pairs of elements of <span class="math inline">\(S\)</span>
<ul>
<li>Or: a subset of the set of all pairs of elements</li>
</ul></li>
</ul>
</section>

<section id="use-times" class="title-slide slide level1 center">
<h1>Use <span class="math inline">\(\times\)</span></h1>
<ul>
<li><p>We denote all pairs using a “Cartesian product”:</p></li>
<li><p><span class="math inline">\(S \times S\)</span> in LaTeX</p></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource tex number-lines code-with-copy"><code class="sourceCode latex"><span id="cb7-1"><a></a>S <span class="fu">\times</span> S</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><em>S</em> × <em>S</em> in HTML</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource html number-lines code-with-copy"><code class="sourceCode html"><span id="cb8-1"><a></a><span class="dt">&lt;</span><span class="kw">em</span><span class="dt">&gt;</span>S<span class="dt">&lt;/</span><span class="kw">em</span><span class="dt">&gt;</span> <span class="dv">&amp;times;</span> <span class="dt">&lt;</span><span class="kw">em</span><span class="dt">&gt;</span>S<span class="dt">&lt;/</span><span class="kw">em</span><span class="dt">&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>

<section id="colors" class="title-slide slide level1 center">
<h1>Colors</h1>
<ul>
<li>For example, over the set of traffic light colors <span class="math inline">\(C\)</span>: <span class="math display">\[
C = \{ G, Y, R \}
\]</span></li>
<li>The Cartesian product is all pairs:</li>
</ul>
<p><span class="math display">\[
C \times C = \{ (G, Y), (G, R), (Y, R), (Y, G),(R, G), (R, Y) \}
\]</span></p>
<ul>
<li>Order matters.</li>
</ul>
</section>

<section id="relation" class="title-slide slide level1 center">
<h1>Relation</h1>
<ul>
<li>A relation <em>R</em> over a set <em>S</em> is a set of pairs of elements of <em>S</em>
<ul>
<li>Or: a subset of the set of all pairs of elements in is transitive</li>
</ul></li>
<li>We begin with the Cartesian product:</li>
</ul>
<p><span class="math display">\[
C \times C = \{ (G, Y), (G, R), (Y, R), (Y, G),(R, G), (R, Y) \}
\]</span></p>
<ul>
<li>We consider a subset of <span class="math inline">\(C \times C\)</span> that is “safe”</li>
</ul>
</section>

<section id="safety" class="title-slide slide level1 center">
<h1>Safety</h1>
<ul>
<li>Construst <span class="math inline">\(L\)</span>, the traffic light relation
<ul>
<li>Yellow must precede Red <span class="math display">\[
  (Y,X) \in L \implies X = R
  \]</span></li>
<li>All colors must appear in both positions <span class="math display">\[
  \forall X \in C, \exists Y, Z \in C : \{ (X,Y), (Z,X) \} \subset L
  \]</span></li>
</ul></li>
</ul>
</section>

<section id="this-gives" class="title-slide slide level1 center">
<h1>This gives</h1>
<p><span class="math display">\[
L = \{ (G, Y), (Y, R), (R, G)\}
\]</span></p>
<p>(R, G) ∈ <em>W</em> ⊂ <em>C</em> × <em>C</em></p>
<ul>
<li>G has a higher wavelength than B</li>
</ul>
<p>(G, B) ∈ <em>W</em> ⊂ <em>C</em> × <em>C</em></p>
<ul>
<li>As a notional convenience, this is often expressed as, with elements as lower case letters, <em>gWb</em></li>
</ul>
<p><em>gWb</em> := (G, B) ∈ <em>W</em> ⊂ <em>C</em> × <em>C</em></p>
</section>

<section id="transitivity" class="title-slide slide level1 center">
<h1>Transitivity</h1>
<ul>
<li>So we take relation <em>W</em> over a set <em>C</em> to be the following:</li>
</ul>
<p><em>W</em> ⊂ <em>C</em> × <em>C</em> = { (R, G), (G, B) }</p>
<p><em>W</em> = { <em>rWg</em>, <em>gWb</em> }</p>
<ul>
<li>What does this tell us about the relation between r and b?</li>
<li>Well, so far, nothing. But…
<ul>
<li>if r has a higher wavelength than g</li>
<li>and g has a great wavelength than b</li>
<li>does it follow that r has a great wavelength than b?</li>
</ul></li>
</ul>
<p><em>rWb</em></p>
<ul>
<li>This is called <strong>transitivity</strong> or the transitive property</li>
</ul>
<p><strong>Transitivity</strong> := ∀ <em>x</em>, <em>y</em>, <em>z</em>: <em>xRy</em> and <em>yRz</em> ⇒ <em>xRz</em></p>
</section>

<section id="closure" class="title-slide slide level1 center">
<h1>Closure</h1>
<ul>
<li>Our initial relation was not transitive.</li>
</ul>
<p><em>W</em> = { <em>rWg</em>, <em>gWb</em> }</p>
<ul>
<li>As in the Amtrak case, we considered only adjacent elements as a convenience, but that doesn’t tell us if e.g.&nbsp;we can get from Seattle to Eugene.</li>
<li>To do that, we need to to preserve transitivity - and we do so using the notion of <strong>transitive closure</strong></li>
<li>We denote the transitive closure <em>R⁺</em>
<ul>
<li>The transitive closure <em>R⁺</em> of some relation <em>R</em> must contain all elements of <em>R</em>.</li>
</ul></li>
</ul>
<p><em>R⁺</em> ⊃ <em>R</em></p>
<p>∀ <em>xRy</em> : <em>xR⁺y</em></p>
<p>∀ {<em>x</em>, <em>y</em>} ∈ <em>R</em>, ∃ {<em>x</em>, <em>y</em>} ∈ <em>R⁺</em></p>
</section>

<section id="closure-1" class="title-slide slide level1 center">
<h1>Closure</h1>
<ul>
<li>We denote the transitive closure <em>R⁺</em>
<ul>
<li>The transitive closure <em>R⁺</em> of some relation <em>R</em> must contain all elements of <em>R</em>.</li>
</ul></li>
</ul>
<p><em>R⁺</em> ⊃ <em>R</em></p>
<ul>
<li>The transitive closure <em>R⁺</em> of some relation <em>R</em> must be transitive.</li>
</ul>
<p>∀ <em>x</em>, <em>y</em>, <em>z</em>: <em>xR⁺y</em> and <em>yR⁺z</em> ⇒ <em>xR⁺z</em></p>
<p>∀ {<em>x</em>, <em>y</em>}, {<em>y</em>, <em>z</em>} ∈ <em>R</em>, ∃ {<em>x</em>, <em>z</em>} ∈ <em>R⁺</em></p>
<ul>
<li>Note: since this is a “for all”, it means as we are required to add new elements to maintain transitivity, transitivity must apply to those new elements.</li>
<li>So, if we add <em>SeattleAmtrakTacoma</em> because we have <em>SeattleAmtrakTukwila</em> and <em>TukwilaAmtrakTacoma</em>…</li>
<li>We will then have to add <em>SeattleAmtrakOlympia</em> because <em>Amtrak</em> also contains <em>TukwilaAmtrakOlympia</em></li>
<li>Maybe this looks a little nicer with 3 letter station names and and train numbers (for Cascades 503) rather than just “Amtrak”:
<ul>
<li><em>sea503⁺tac</em></li>
<li><em>sea503⁺olw</em></li>
</ul></li>
</ul>
</section>

<section id="closure-2" class="title-slide slide level1 center">
<h1>Closure</h1>
<ul>
<li>We denote the transitive closure <em>R⁺</em>
<ul>
<li>The transitive closure <em>R⁺</em> of some relation <em>R</em> must contain all elements of <em>R</em>.</li>
</ul></li>
</ul>
<p><em>R⁺</em> ⊃ <em>R</em></p>
<ul>
<li>The transitive closure <em>R⁺</em> of some relation <em>R</em> must be transitive.</li>
</ul>
<p>∀ <em>x</em>, <em>y</em>, <em>z</em>: <em>xR⁺y</em> and <em>yR⁺z</em> ⇒ <em>xR⁺z</em></p>
<ul>
<li><em>R⁺</em> must be the smallest possible relation for that is a transitive superset of <em>R</em>.
<ul>
<li>Cartesian Product is always transitive and a superset, but not always the smallest satisfying set.</li>
</ul></li>
</ul>
<p><em>R⁺</em> : ∀ <em>R’</em> ⊂ <em>S</em> × <em>S</em>: <em>R’</em> ⊃ <em>R</em> and <strong>Transitive</strong>(<em>R’</em>) : |<em>R⁺</em>| &lt; |<em>R’</em>| and <em>R⁺</em> ⊃ <em>R</em> and <strong>Transitive</strong>(<em>R’</em>)</p>
</section>

<section id="cycles-1" class="title-slide slide level1 center">
<h1>Cycles</h1>
<ul>
<li>We use transitive closure to define cycles
<ul>
<li>We consider a graph</li>
</ul></li>
</ul>
<p><em>G</em> = (<em>V</em>, <em>E</em>)</p>
<ul>
<li>We note that <em>E</em> is a homogenous binary relation over <em>V</em></li>
<li>We consider that <em>E⁺</em> the transitive closure of <em>E</em></li>
</ul>
<p><em>E⁺</em> ⊃ <em>E</em></p>
<ul>
<li><em>G</em> contains a cycle (has the property of being cyclic) if <em>E⁺</em> contains an edge from a node to itself.</li>
</ul>
<p><strong>Cyclic</strong>(<em>G</em>) := ∃ <em>v</em> : <em>vE⁺v</em></p>
<p><strong>Cyclic</strong>(<em>G</em> = (<em>V</em>, <em>E</em>)) := ∃ <em>v</em> ∈ <em>V</em>: {<em>v</em>, <em>v</em>} ∈ E⁺</p>
<ul>
<li>Some notes:
<ul>
<li>Cycles are defined to be non-trivial, which means they don’t contain “loops”, so or an edge from a node to itself.
<ul>
<li>We don’t think about this with Amtrak because we don’t take a train from Portland to Portland</li>
</ul></li>
<li>Circuits, walks, paths, and trails are also defined in graph theory and are related.</li>
<li>Direct paths and undirected paths are, of course, distinct but intuitively so.
<ul>
<li>Cascades 503, which runs Seattle to Portland, has a Seattle to Tukwila edge but not a Tukwila to Seattle edge.</li>
<li>The Cascades route, which runs service between Vancouver BC and Eugene, has both edges.</li>
</ul></li>
</ul></li>
</ul>
</section>

<section id="dags-1" class="title-slide slide level1 center">
<h1>DAGS</h1>
<p>“In mathematics, particularly graph theory, and computer science, a directed acyclic graph (DAG) is a directed graph with no directed cycles.”</p>
<ul>
<li>So it is a graph</li>
</ul>
<p><em>G</em> = (<em>V</em>, <em>E</em>)</p>
<ul>
<li>It is directed, so <em>E</em> is a set of ordered pairs</li>
</ul>
<p><strong>Ordered</strong>(<em>e</em>) ∀ <em>e</em> ∈ <em>E</em></p>
<ul>
<li>It contains no cycles</li>
</ul>
<p>¬<strong>Cyclic</strong>(<em>G</em>)</p>
<p>¬∃ <em>v</em> ∈ <em>V</em>: <em>vE⁺v</em></p>
</section>

<section id="dags-2" class="title-slide slide level1 center">
<h1>DAGS</h1>
<ul>
<li>Cascades 503 is a directed acyclic graph.
<ul>
<li>It has edges from all relative northern stations to all relative southern stations for all stations between Seattle and Portland inclusive.</li>
</ul></li>
<li>Color wavelength is a directed acyclic graph.
<ul>
<li>There is no color that is both higher wavelength and lower wavelength than some other color.</li>
</ul></li>
<li>The sentence syntax tree from nltk is a directed acyclic graph.</li>
</ul>

<img data-src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/86/Noun_phrase_chunking_with_NLTK.svg/2560px-Noun_phrase_chunking_with_NLTK.svg.png" class="r-stretch"><ul>
<li>Sentences (S) contain words or phrases, and phrases (<em>x</em>P) contain words, but no phrases contain a sentence or words contain a phrase.</li>
<li>MapReduce is a directed acyclic graph.
<ul>
<li>Neither Map nor Reduce accept as input anything that they have output, or is constructed from their outputs.</li>
</ul></li>
</ul>
</section>

<section>
<section id="dags-3" class="title-slide slide level1 center">
<h1>DAGS</h1>
<ul>
<li><em>Directed Acyclic Graphs generalize MapReduce</em> ```json { “word_x_tagcount”: { “key_value_pairs” : { “input” : “filename:text”, ““:”word:tag”, ““:”word_x_tag:1”, “output”: “word_x_tag:count” } } }</li>
</ul>
</section>
<section id="incentive" class="slide level2">
<h2>Incentive</h2>
<ul>
<li><p>The system only works if there’s a reason to invest in mining</p>
<blockquote>
<p>The incentive can also be funded with transaction fees</p>
</blockquote>
<ul>
<li><p>If you really want your transaction to be accepted, offer a small amount of coinage as a transaction fee.</p></li>
<li><p>This is done by creating a transaction with no receipient, and the default receipient is regarded as the miner.</p></li>
<li><p>Transaction fees allow inflationless mining.</p></li>
<li><p>The last bitcoin (21M’th) will be mined circa 2140 and the system will be fee-only at that time.</p>
<blockquote>
<p>The incentive may help encourage nodes to stay honest.</p>
</blockquote></li>
<li><p>SN, paraphrased: Fees will likely be more lucrative than theft.</p></li>
<li><p>CD: Attackers will likely be political motivated to destabilize the currency.</p></li>
</ul></li>
</ul>
</section>
<section id="pruning" class="slide level2">
<h2>Pruning</h2>
<ul>
<li><p>Bitcoin scaling is a real problem, but</p></li>
<li><p>There’s a lot of ways to handle that.</p></li>
<li><p>Only the most recent transaction on a coin must be saved, for example.</p>
<blockquote>
<p>Once the latest transaction in a coin is buried under enough blocks, the spent transactions before it can be discarded to save disk space.</p>
</blockquote></li>
<li><p>This is done using a little thing called “Merkle Tree” which happens to be…</p></li>
<li><p>A Directed Acyclic Graph</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://commons.wikimedia.org/wiki/File:Southwest_Chief_at_Laguna,_February_2020.jpg" title="Jerry Huddleston from Hampton, Minnesota, US, CC BY 2.0 <https://creativecommons.org/licenses/by/2.0>, via Wikimedia Commons"><img data-src="Blockchain_files/Southwest_Chief_at_Laguna,_February_2020.jpg" alt="Southwest Chief at Laguna, February 2020"></a></p>
<figcaption>Southwest Chief at Laguna, February 2020</figcaption>
</figure>
</div>
<p><em>Graph Theory: Cool, Fun, Practical</em></p>
</section>
<section id="merkle-tree" class="slide level2">
<h2>Merkle Tree</h2>
<ul>
<li><p>Disclosure: Wikipedia claims Merkle Trees are a computer science topic:</p>
<blockquote>
<p>In cryptography and computer science, a hash tree or Merkle tree is a tree in which…</p>
</blockquote></li>
<li><p>I am a computer scientist.</p></li>
<li><p>I’m sorry! I think they’re really cool!</p></li>
<li><p>Anyways a ‘tree’ is a DAG where:</p>
<ul>
<li>There is a root node, with no incoming edges</li>
<li>Every other edge has exactly one incoming edge</li>
</ul></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://commons.wikimedia.org/wiki/File:Tree_(computer_science).svg" title="Paddy3118, CC BY-SA 4.0 <https://creativecommons.org/licenses/by-sa/4.0>, via Wikimedia Commons"><img data-src="Blockchain_files/Tree_(computer_science).svg.png" alt="Tree (computer science)"></a></p>
<figcaption>Tree (computer science)</figcaption>
</figure>
</div>
<p>I should probably say “hash tree” (descriptive name) but I’m really used to hearing “Merkle tree”.</p>
</section>
<section id="merkle-tree-1" class="slide level2">
<h2>Merkle Tree</h2>
<ul>
<li>New term: Leaf (or leaf node)
<ul>
<li>A leaf is a vertex (or node) of a tree with no outgoing edges.</li>
</ul></li>
<li>In a hash tree, a leaf node contains some data and a hash of that data. <code># Github Copilot wrote this given the name class HashTreeLeaf: def __init__(self, data): self.data = data self.hash = hash(data) def __hash__(self): return self.hash</code></li>
</ul>
</section>
<section id="merkle-tree-2" class="slide level2">
<h2>Merkle Tree</h2>
<ul>
<li><p>Every other node <em>n</em> contains:</p>
<ul>
<li>A hash</li>
<li>Computed over the the hashs</li>
<li>Of the nodes, for which</li>
<li><em>n</em> has a corresponding outgoing edge.</li>
</ul></li>
<li><p>To my knowledge, all Merkle/hash trees are binary trees</p>
<ul>
<li>A binary tree is a tree in which no node has more than two outgoing edges.</li>
</ul>
<p><code># Github Copilot wrote this given the name class HashTreeNode: def __init__(self, left, rite): assert(left != None) # added by cd self.left = left self.rite = rite self.hash = hash(left)^hash(rite) def __hash__(self): return self.hash</code></p></li>
<li><p>This allows non-leaf nodes to have one or two outgoing edges.</p></li>
</ul>
</section>
<section id="binary-tree-ops" class="slide level2">
<h2>Binary Tree Ops</h2>
<ul>
<li>Binary trees, usually the special case of sorted binary search trees (BSTs), a mainstay of second semester CS education.</li>
<li>They are not in scope here.</li>
<li>If you need to implement a Merkle tree, find someone else’s “binary search tree” code and add the hashing to it.</li>
<li>Generative AIs (all, not just Github Copilot) can usually do BSTs in any given language.</li>
<li>They cannot do Merkle trees (I checked ChatGPT, Gemini, Copilot) for some reason.</li>
<li>Realistically, engineering teams and not individuals should write anything expected to achieve cryptographic goals (too easy to make mistakes).</li>
</ul>
</section>
<section id="merkle-tree-3" class="slide level2">
<h2>Merkle Tree</h2>
<ul>
<li>This is a very good visualization:<br>
<a href="https://commons.wikimedia.org/wiki/File:Hash_Tree.svg" title="Azaghal, CC0, via Wikimedia Commons"><img data-src="Blockchain_files/Hash_Tree.svg.png" alt="Hash Tree"></a></li>
<li>All data/coins/transactions are in leaf nodes</li>
<li>Extremely difficulty to falsify anything, due to all the computed hashes</li>
<li>Old transactions can be discarded</li>
<li>Old enough trees may be empty (!!!) if all constituent coins are spent.</li>
<li>This is <em>likely</em> since the most used coins are… the most used coins.</li>
</ul>
</section>
<section id="merkle-tree-4" class="slide level2">
<h2>Merkle Tree</h2>
<ul>
<li>This is a very good visualization of pruning:</li>
</ul>

<img data-src="Blockchain_files/Reclaiming Disk Space.png" class="r-stretch"><p>This is a Satoshi Nakamoto graphic.</p>
</section>
<section id="pruning-use" class="slide level2">
<h2>Pruning Use</h2>
<ul>
<li>I am unable to characterize expected savings to pruning:
<ul>
<li>Users report around 100x (500GB to 5GB)</li>
<li>Most coins appear to be part of zero transactions</li>
<li>Some large clusters of coins, like SN’s, are valued at tenths of trillions USD but if mobilized would probably tank the valuation.</li>
<li>So coin velocity, median/average transactions, frequency are all very difficult to characterize.</li>
<li>Also likely volatile.</li>
</ul></li>
<li>In general: Crypto people I trust seem to think Bitcoin is mostly unoptimized and could get a lot more streamlined.</li>
<li>In general: Hard for competing standards to catch on.</li>
</ul>
</section>
<section id="pruning-efficacy" class="slide level2">
<h2>Pruning Efficacy</h2>
<ul>
<li>We can see how much better one Merkle tree is if maximally pruned.
<ul>
<li>Have around 4k transactions per block</li>
<li>So for binary Merkle trees, that is log2(4k) ~= 12 levels</li>
<li>That is 2^12 leaves, 2^12 nodes of above them, 2^11 nodes above those, etc.</li>
<li>Σ 2_n_ = 2_n+1_-1, or <code>&gt;&gt;&gt; sigma = lambda x : sum([2 ** n for n in range(x+1)]) &gt;&gt;&gt; close = lambda x : 2 ** (x + 1) - 1 # for "closed form" &gt;&gt;&gt; for x in range(50): ... assert(close(x) == sigma(x)) ... &gt;&gt;&gt;</code></li>
<li>Any unpruned tree would have 2^13-1 internal and 2^12 leaf nodes</li>
<li>A tree with one remaining transaction would have on leaf node and two internal nodes per ‘level’</li>
<li>That is, 2*12 internal and 1 leaf node. <code>&gt;&gt;&gt; savin = lambda x : (2*x + 1) / ( 2 ** (x + 1) + 2 ** x - 1 ) &gt;&gt;&gt; savin(10) 0.006838163464669489 &gt;&gt;&gt; savin(12) 0.002034670790266135</code></li>
</ul></li>
</ul>
</section>
<section id="on-memory-usage" class="slide level2">
<h2>On Memory Usage</h2>
<ul>
<li><p>Arithmetic!</p>
<blockquote>
<p>A block header with no transactions would be about 80 bytes. If we suppose blocks are generated every 10 minutes, 80 bytes * 6 * 24 * 365 = 4.2MB per year.</p>
</blockquote></li>
<li><p>I don’t think that estimate is accurate but I’m not sure why it wouldn’t be. I think SN is only counting the block headers, not the trees?</p>
<blockquote>
<p>With computer systems typically selling with 2GB of RAM as of 2008, and Moore’s Law predicting current growth of 1.2GB per year, storage should not be a problem even if the block headers must be kept in memory</p>
</blockquote></li>
<li><p>In 2009 we see discussions of expected computing growth and decision making on memory/storage in distributed systems (!!!)</p>
<blockquote>
<p>It is possible to verify payments without running a full network node.</p>
</blockquote></li>
<li><p>SN notes you can just submit a transaction and if it’s accepted assume the coins for it were in the correct hands. This does markedly reduce the need for individuals (but not the full network) to store transaction histories.</p></li>
</ul>
</section>
<section id="transactions" class="slide level2">
<h2>Transactions</h2>
<ul>
<li>We previously imagined a coin contains:
<ol type="1">
<li>The public key of the current owner</li>
<li>The record of all previous owners</li>
<li>The signature of the previous owner, generated over (1) and (2)</li>
</ol></li>
<li>These are all integers, more or less, that can be verified. <code>&gt;&gt;&gt; Coin(*[randint(0,1024 * 1024) for _ in range(3)]) &lt;Coin object at 0x7f765208eb90&gt; # NOT verified</code></li>
<li>Well… there’s actually no reason to have a single former owner or future owner.</li>
<li>So transactions can have multiple inputs before being bundled in hash trees.</li>
<li>We can think of them as dictionaries of send/recieve signatures and values.
<ul>
<li>After this semester, we will change ownership of evening classes! <code>&gt;&gt;&gt; Coin({'ckd': 2, 'jr': 2, 'hc':1, 'lc': 1, 'gp': 1} {'hks': 2, 'rb': 2, 'hi':2, 'fa': 1, 'ir': 1} hash(...)) &lt;Coin object at 0x7f765208eb90&gt;</code></li>
<li>This has a de facto negative transaction fee (it’s a bad metaphor)
<ul>
<li>Mostly: This allows transactions to not all be off the same price.</li>
<li>This allows using a unique ID for transactions and still spend all at once.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="multi-transaction" class="slide level2">
<h2>Multi Transaction</h2>
<ul>
<li>We can visualize as follows:</li>
</ul>

<img data-src="Blockchain_files/1w.png" class="r-stretch"><p>This is a Satoshi Nakamoto graphic.</p>
</section>
<section id="privacy" class="slide level2">
<h2>Privacy</h2>
<blockquote>
<p>The necessity to announce all transactions publicly precludes this method, but privacy can still be maintained by breaking the flow of information in another place: by keeping public keys anonymous.</p>
</blockquote>
<ul>
<li><p>SN claims that breaking keys (say, account numbers) from personal identifying information achieves privacy.</p></li>
<li><p>CD claims the considerable metadata leaks are a marked loss in privacy, but that’s okay.</p></li>
<li><p>Banks have full knowledge and routinely have e.g.&nbsp;data breaches, illegal ad targetting, etc.</p></li>
<li><p><a href="https://www.justice.gov/opa/pr/wells-fargo-agrees-pay-3-billion-resolve-criminal-and-civil-investigations-sales-practices">Wells Fargo Agrees to Pay $3 Billion to Resolve Criminal and Civil Investigations into Sales Practices Involving the Opening of Millions of Accounts without Customer Authorization</a></p></li>
<li><p>This ’big banks perspective actually isn’t too far off.</p>
<blockquote>
<p>This is similar to the level of information released by stock exchanges</p>
</blockquote></li>
<li><p>Lastly - if you have been part of <em>n</em> transactions, it is simple enough to use a distinct key for each, providing a slightly higher level of protection against privacy violations and any case were an attacker gains access to your key.</p>
<blockquote>
<p>As an additional firewall, a new key pair should be used for each transaction to keep them from being linked to a common owner.</p>
</blockquote></li>
</ul>
</section>
<section id="privacy-1" class="slide level2">
<h2>Privacy</h2>
<ul>
<li>We can visualize as follows:</li>
</ul>

<img data-src="Blockchain_files/1_bE7DuVZlL_LVNe8R1t_qJA.png" class="r-stretch"><p>This is a Satoshi Nakamoto graphic.</p>
</section>
<section id="bonus-calculations" class="slide level2">
<h2>Bonus: Calculations</h2>
<ul>
<li>SN closes with a brief essay on probability, including calculations in the C programming language</li>
<li>Also known as: my favorite thing.</li>
<li>Regard the following as bonus slides, but that are really cool!</li>
</ul>
</section>
<section id="calculations" class="slide level2">
<h2>Calculations</h2>
<blockquote>
<p>We consider the scenario of an attacker trying to generate an alternate chain faster than the honest chain.</p>
</blockquote>
<ul>
<li>In the (quite) early days, gaining a control of a majority of miners was regarded as impossible.</li>
<li>In 2014, it happened: GHash.io, a mining consortium, achieved 51% of compute power.</li>
<li>Read more on <a href="https://en.wikipedia.org/wiki/GHash.io">Wikipedia</a></li>
<li>GHash.io voluntarily committed to a 40% cap to avoid devaluing their holdings.</li>
<li>In any case, this risk was foreseen by SN (and, frankly, everyone else) and is discussed.</li>
</ul>
</section>
<section id="calculations-1" class="slide level2">
<h2>Calculations</h2>
<blockquote>
<p>We consider the scenario of an attacker trying to generate an alternate chain faster than the honest chain.</p>
</blockquote>
<ul>
<li>We use a “Binomial Random Walk”
<ul>
<li>We progress along the integer number line, that is, {…, -1, 0, 1, 2…}</li>
<li>The value given is the length lead maintained by the “honest” (non-attacker) chain.</li>
<li>So if the honest chain is lenght 1010, and the attack is lenght 1000, the walk is at 10.</li>
</ul></li>
<li>Attacker outpacing is equivalent to the “Gambler’s Ruin” problem.
<ul>
<li>Gambler has infinite $ and targets breakeven in potentially infinite time</li>
</ul></li>
<li>SN uses mathematical notation, I’ll use Python. <code>def prob_attk_ctch(attk_blck_bhnd, prob_next_hnst, prob_next_attk): assert(prob_next_hnst + prob_next_attk == 1) z = attk_blck_bhnd p, q = prob_next_hnst, prob_next_attk if (p &lt;= q): return 1 if (p &gt; q): return (q / p) ** z</code></li>
<li>prob_attk_ctch(z, p, q) is the probabilty an attacker <em>z</em> blocks behind an honest chain catches up given that the attack controls fraction share <em>q</em> ∈ [0,1] of the total nodes.</li>
</ul>
</section>
<section id="calculations-2" class="slide level2">
<h2>Calculations</h2>
<blockquote>
<p>We consider the scenario of an attacker trying to generate an alternate chain faster than the honest chain.</p>
</blockquote>
<ul>
<li>Much easier if we consider a single attacker calculating their catchup probability. <code>def prob_ctch(blck_bhnd, node_frac): z, p, q = blck_bhnd, 1 - node_frac, node_frac if (p &lt;= q): return 1 if (p &gt; q): return (q / p) ** z</code></li>
<li>These numbers are actually higher than I intuitively expected, using e.g.&nbsp;GHash.io’s 40% (assuming GHash.io somehow became compromised) <code>&gt;&gt;&gt;&gt; {n:prob_ctch(n, .4) for n in range(1,10,2)} {1: 0.6666666666666667, 3: 0.2962962962962964, 5: 0.13168724279835398, 7: 0.05852766346593512, 9: 0.026012294873748946} &gt;&gt;&gt; {n/10:prob_ctch(3, n/10) for n in range(1,5)} {0.1: 0.0013717421124828536, 0.2: 0.015625, 0.3: 0.07871720116618078, 0.4: 0.2962962962962964}</code></li>
</ul>
</section>
<section id="calculations-3" class="slide level2">
<h2>Calculations</h2>
<blockquote>
<p>Given our assumption that <em>p &gt; q</em>, the probability drops exponentially as the number of blocks the attacker has to catch up with increases.</p>
</blockquote>
<ul>
<li>It occurs to me I can write this in .js with a canvas element.</li>
</ul>
<p>function qz(z, q) { const p = 1 - q if (p &lt;= q) { return 1 } else if (p &gt; q) { return Math.pow(q / p, z) } } function draw() { const q = document.getElementById(‘q’).value const z = document.getElementById(‘z’).value const c = document.getElementById(‘plot’).getContext(“2d”) c.strokeStyle = “white” c.clearRect(0,0,800,800) c.strokeStyle = “black” for ( let i = 0 ; i &lt; 800 ; i++ ) { c.fillRect(i, 800 - qz(i * z / 800, q) * 800, 2, 2) } } Set <em>q</em> ∈ (0,.5) Set <em>z</em> &gt; 0</p>
</section>
<section id="code" class="slide level2">
<h2>code</h2>
<p><code>&lt;script&gt; function qz(z, q) { const p = 1 - q if (p &lt;= q) { return 1 } else if (p &gt; q) { return Math.pow(q / p, z) } } function draw() { const q = document.getElementById('q').value const z = document.getElementById('z').value const c = document.getElementById('plot').getContext("2d") c.strokeStyle = "white" c.clearRect(0,0,800,800) c.strokeStyle = "black" for ( let i = 0 ; i &lt; 800 ; i++ ) { c.fillRect(i, 800 - qz(i * z / 800, q) * 800, 2, 2) } } &lt;/script&gt; &lt;input value=".4" type="number" min="0" max="0.5" id="q"&gt; &lt;button onclick="draw()" type="button"&gt;Set &lt;em&gt;q&lt;/em&gt; ∈ (0,.5)&lt;/button&gt; &lt;input value="5" type="number" min="1" id="z"&gt; &lt;button onclick="draw()" type="button"&gt;Set &lt;em&gt;z&lt;/em&gt; &gt; 0 &lt;/button&gt;&lt;br&gt; &lt;canvas style="background-color:white" id="plot" width="800" height="800"&gt;&lt;/canvas&gt;</code></p>
</section>
<section id="fin" class="slide level2">
<h2>FIN</h2>
<ul>
<li>Distributed consensus is non-trivial.</li>
<li>It tends to rely on math in the most classical sense of the term.</li>
<li>It allows a lot of new possibilities.</li>
<li>It uses a lot of cloud technologies.</li>
<li>It powers a lot of cloud technologies.</li>
</ul>


</section></section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p><a href="../index.html">Home</a></p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>